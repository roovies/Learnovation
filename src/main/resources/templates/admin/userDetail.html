<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íšŒì› ìƒì„¸ ì •ë³´ ë° ìˆ˜ì •</title>
    <!--êµ¬ê¸€í°íŠ¸ API-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/admin/userDetail.css}">
    <link rel="stylesheet" href="../../static/css/admin/userDetail.css">

    <!--    ë„¤ë¹„ê²Œì´ì…˜ ì¶”ê°€ ì½”ë“œ-->
<!--    <script src="https://kit.fontawesome.com/f5db63554f.js" crossorigin="anonymous"></script>-->
<!--    <link rel="preconnect" href="https://fonts.googleapis.com">-->
<!--    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>-->
<!--    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">-->
<!--    <link rel="stylesheet" href="/common/css/nav.css">-->
</head>
<body>
<!--    ë„¤ë¹„ê²Œì´ì…˜ ì¶”ê°€ ì½”ë“œ-->
<!--<nav th:replace="~{common/nav.html :: nav}"></nav>-->

    <div class="side-nav">
        <header>Learnnovation</header>
        <ul>
            <a href="#" class="active">
                <li class="nav-li">
                    <span class="menu" onclick="goUserList()">ğŸ™‹â€â™‚ï¸ íšŒì›ê´€ë¦¬</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <span class="menu">ê²Œì‹œíŒ ê´€ë¦¬</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <span class="menu">ğŸ“¢ ì‹ ê³  ê´€ë¦¬</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <!-- <img src="/learning.png" alt="" style="width: 30px; height: 30px;"> -->
                    <span class="menu">ğŸ“º ê°•ì˜ ë“±ë¡</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <span class="menu">apps</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <span class="menu">event</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <span class="menu">settings</span>
                </li>
            </a>
        </ul>
    </div>
    <div class="main">
        <div id="workspace">
            <div id="title">íšŒì› ìƒì„¸ ì •ë³´ ë° ìˆ˜ì •</div>
            <form th:action="@{'/admin/update/' + ${user.id}}" method="post" id="info-area">
                <input type="hidden" name="_method" value="put" />
                <input type="hidden" name="id" id="id" th:value="${user.id}" />
                <label for="email">ì´ë©”ì¼</label>
                <input type="text" name="email" id="email" th:value="${user.email}" readonly> <br>
                <label for="password">ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" name="password" id="password" th:value="${user.password}"> <br>
                <label for="name">ì´ë¦„</label>
                <input type="text" name="name" id="name" th:value="${user.name}" readonly> <br>
                <label for="nickname">ë‹‰ë„¤ì„</label>
                <input type="text" name="nickname" id="nickname" th:value="${user.nickname}"> <br>
                <label for="phoneNumber">ì „í™”ë²ˆí˜¸</label>
                <input type="text" name="phoneNumber" id="phoneNumber" th:value="${user.phoneNumber}"> <br>
                <input type="hidden" name="createAt" th:value="${user.createdAt}">
                <div id="btn-area">
                    <button type="submit">ìˆ˜ì •</button> &nbsp;&nbsp;&nbsp;&nbsp;
                    <button type="button" onclick="gohome()">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                </div>
            </form>
        </div>
    </div>
<!--    <div id="pwUpdate">-->
<!--        <form>-->
<!--            <input type="password" id="spw" name="password" th:value="${user.phoneNumber}">-->
<!--            <button onclick="pwUpdate()">ìˆ˜ìš°ì •</button>-->
<!--        </form>-->
<!--    </div>-->
    <script>
        function gohome() {
            location.href = '/admin/userList';
        }

        function pwUpdate() {
            const password = $('#spw').val();

            const confirmCheck = confirm("ì œë°œ ë°”ê»´ë¼");

            if(confirmCheck == true){
                $.ajax({
                    type: 'PUT',
                    url: '/admin/pwUpdate',
                    contentType: 'application/json; charset=utf-8',
                    data: JSON.stringify(data)
                }).done(function(result){
                    if(result){
                        alert("íšŒì› ìˆ˜ì •ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.");
                        window.location.href="/admin/userList";
                    }
                    else {
                        alert("ì‹¤íŒ¨");
                    }
                }).fail(function(error){
                    alert(JSON.stringify(error));
                });
            }
        }

        function goUserList() {
            location.href = "/admin/userList";
        }
    </script>

    <!--    ë„¤ë¹„ê²Œì´ì…˜ ì¶”ê°€ ì½”ë“œ-->
<!--    <script src="/common/js/nav.js"></script>-->
</body>
</html>