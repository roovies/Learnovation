<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íšŒì› ê´€ë¦¬</title>
    <!--êµ¬ê¸€í°íŠ¸ API-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR&display=swap" rel="stylesheet">
    <link rel="stylesheet" th:href="@{/css/admin/usermanagement.css}">
</head>
<body>
    <div class="side-nav">
        <header>Learnnovation</header>
        <ul>
            <a href="#" class="active">
                <li class="nav-li">
                    <span class="menu">ğŸ™‹â€â™‚ï¸ íšŒì›ê´€ë¦¬</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <span class="menu">ê²Œì‹œíŒ ê´€ë¦¬(ë“œë¡­ë‹¤ìš´ã„±ã„±)</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <span class="menu">ğŸ“¢ ì‹ ê³  ê´€ë¦¬</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <!-- <img src="/learning.png" alt="" style="width: 30px; height: 30px;"> -->
                    <span class="menu">ğŸ“º ê°•ì˜ ë“±ë¡</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <span class="menu">apps</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <span class="menu">event</span>
                </li>
            </a>
            <a href="#">
                <li class="nav-li">
                    <span class="menu">settings</span>
                </li>
            </a>
        </ul>
    </div>
    <div class="main">
        <div id="workspace">
            <div id="title">íšŒì›ëª©ë¡</div>

            <form action="" method="post" id="search-area">
                <input type="text" id="search-value" name="searchValue" placeholder="ê²€ìƒ‰">
                <button type="submit" id="search-btn">ê²€ìƒ‰</button>
            </form>

            <div id="list-area">
                <table class="type10">
                    <thead>
                    <tr>
                        <th scope="cols">ã…‡</th>
                        <th scope="cols">íšŒì›ë²ˆí˜¸</th>
                        <th scope="cols">ì•„ì´ë””</th>
                        <th scope="cols">ì´ë¦„</th>
                        <th scope="cols">ê°€ì…ë‚ ì§œ</th>
                        <th></th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="user : ${userList}">
                        <th scope="row">ã…‡</th>
                        <td th:text="${user.id}"></td>
                        <td th:text="${user.email}"></td>
                        <td th:text="${user.name}"></td>
                        <td th:text="${user.createdAt}"></td>
                        <td>ìƒì„¸/ìˆ˜ì •</td>
                        <td>
                            <form id="delete-form" th:action="@{'/admin/' + ${user.id}}" method="post">
                                <input type="hidden" name="_method" value="delete"/>
                                <button id="delete-btn">ì‚­ì œ</button>
                            </form>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
<script>

    // ì²´í¬ë°•ìŠ¤ ì„ íƒ í›„ ì‚­ì œ ë²„íŠ¼ í´ë¦­ì‹œ ì´ë²¤íŠ¸
    function folderDeleteClick(){
        var checkBoxArr = [];
        $("input:checkbox[name='folderCheckname']:checked").each(function() {
            checkBoxArr.push($(this).val());     // ì²´í¬ëœ ê²ƒë§Œ ê°’ì„ ë½‘ì•„ì„œ ë°°ì—´ì— push
            console.log(checkBoxArr);
        })

        $.ajax({
            type  : "POST",
            url    : "<c:url value='/folderDelete.do'/>",
            data: {
                checkBoxArr : checkBoxArr        // folder seq ê°’ì„ ê°€ì§€ê³  ìˆìŒ.
            },
            success: function(result){
                console.log(result);
            },
            error: function(xhr, status, error) {
                alert(error);
            }
        });
    }
</script>
</body>
</html>